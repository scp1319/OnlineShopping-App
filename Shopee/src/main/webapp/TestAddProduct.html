<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<script src="https://code.jquery.com/jquery-3.4.1.js">
	
</script>
<script>
	$(function() {
		$.ajax({
			url : 'dispCategory.lti',
			method : 'GET',
			contentType : 'application/json',
			success : function(response) {
				var catgsel = $("<select/>");
				catgsel.attr("id", "catgsel")
				$.each(response, function(index, catg) {
					var catgopt = $("<option/>").attr("value", catg.catgId)
.text(catg.name);
					catgsel.append(catgopt);
				})
				$("#assignCatgToProductFrm").append(catgsel);
			}
		})
		$("#addProduct").click(function(evt) {
			evt.preventDefault();
			alert( $("#catgsel").val());
			var obj = {
				name : $("#name").val(),
				brand : $("#brand").val(),
				description : $("#description").val(),
				price : $("#price").val(),
				stock : $("#stock").val(),
				retailerId : $("#retailerId").val(),
				categoryId : $("#catgsel").val(),

			}
			$.ajax({

				url : 'addProductInfo.lti',
				method : 'POST',
				data : JSON.stringify(obj),
				contentType : 'application/json',
				success : function(response) {
					alert("product added");
				}
			})
		})
	})
</script>
</head>
<body>
	<input type="text" placeholder="name" id="name">
	<br>
	<input type="text" placeholder="brand" id="brand">
	<br>
	<input type="text" placeholder="description" id="description">
	<br>
	<input type="number" placeholder="price" id="price">
	<br>
	<input type="number" placeholder="stock" id="stock">
	<br>
	<input type="number" placeholder="retailer Id" id="retailerId">
	<br>
	<form id="assignCatgToProductFrm"></form>
	<br>

	<input type="submit" value="submit" id="addProduct">
</body>
</html>