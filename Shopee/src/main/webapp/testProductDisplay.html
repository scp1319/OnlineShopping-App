<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script>

	$(function() {
		
		$('#priceFieldset input[type=radio]').change(function(){
		     var filterOption = $(this).val() ; 
		     if(filterOption == "lowToHigh"){
		    	 	$("#allProducts").empty();
		    		 $.ajax({
		    				url : 'displayAllProductByPriceLowToHigh.lti',
		    				method : 'POST',
		    				contentType : 'application/json',

		    				success : function(response) {
		    					response.forEach(function(product) {
		    						$("#allProducts").append(	"<p>" + product.name + "</p>" 
		    								+ "<div>"	+ product.price + "</div>");
		    					})
		    				}
		    			})
		     }
		     else{
		    	 $("#allProducts").empty();
	    		 $.ajax({
	    				url : 'displayAllProductByPriceHighToLow.lti',
	    				method : 'POST',
	    				contentType : 'application/json',

	    				success : function(response) {
	    					response.forEach(function(product) {
	    						$("#allProducts").append(	"<p>" + product.name + "</p>" 
	    								+ "<div>"	+ product.price + "</div>");
	    					})
	    				}
	    			})
		     }
		 })
		      
		      
		$.ajax({
			url : 'displayAllProduct.lti',
			method : 'POST',
			contentType : 'application/json',

			success : function(response) {
				response.forEach(function(product) {
					$("#allProducts").append(	"<p>" + product.name + "</p>" 
							+ "<div>"	+ product.price + "</div>");
				})
			}
		})
	})
</script>
</head>
<body>
	<div id="allProducts"></div>
	<fieldset id="priceFieldset" style="border:none;">
    <label><input name="priceFieldset" type="radio" value="lowToHigh" />Low to High</label>
    <label><input name="priceFieldset" type="radio" value="HighToLow" />High to Low</label>
</fieldset>
</body>
</html>